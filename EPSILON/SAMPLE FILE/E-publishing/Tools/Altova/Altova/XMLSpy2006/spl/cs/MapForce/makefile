#
# This file was generated by [=$Host].
#
# YOU SHOULD NOT MODIFY THIS FILE, BECAUSE IT WILL BE
# OVERWRITTEN WHEN YOU RE-RUN CODE GENERATION.
#
# Refer to the [=$HostShort] Documentation for further details.
# [=$HostURL]
#

all:	[=$application.Name].exe

clean:
	rm -f 	Altova.dll \\
			AltovaXML.dll \\
			[if $DBLibraryCount>0]AltovaDB.dll \\
[endif
			if $EDILibraryCount>0]AltovaText.dll \\
[endif
]			AltovaFunctions.dll \\
[foreach $library in $application.Libraries : if not $library.IsDuplicate
	if $library.Kind <> 4
]			[=$library.UniqueName].dll \\
[endif : endif : next
]			[=$application.Name].exe

[=$application.Name].exe:	Altova.dll AltovaXML.dll[if $DBLibraryCount>0] AltovaDB.dll[endif][if $EDILibraryCount>0] AltovaText.dll[endif] AltovaFunctions.dll[foreach $library in $application.Libraries : if not $library.IsDuplicate : if $library.Kind <> 4 ] [=$library.UniqueName].dll[ endif : endif : next] [=$application.Name]/*.cs
	mcs -t:exe \\
		-r:System.Data.dll \\
		-r:Altova.dll \\
[if $DBLibraryCount>0
]		-r:AltovaDB.dll \\
[endif
][if $EDILibraryCount>0
]		-r:AltovaText.dll \\
[endif
]		-r:AltovaXML.dll \\
		-r:AltovaFunctions.dll \\
[foreach $library in $application.Libraries : if not $library.IsDuplicate
	if $library.Kind <> 4 
]		-r:[=$library.UniqueName].dll \\
[endif : endif : next
]		-out:$@ [=$application.Name]/*.cs

[foreach $library in $application.Libraries : if not $library.IsDuplicate
	if $library.Kind <> 4
	$module			= $library.UniqueName
]
[=$module].dll:	[if $library.Kind = 3]AltovaText.dll[endif : if $library.Kind = 2]AltovaDB.dll[endif : if $library.Kind = 1]AltovaXML.dll[endif] [=$module]/*.cs
	mcs -t:library -r:Altova.dll [if $library.Kind =3]-r:System.Data.dll -r:AltovaText.dll[endif : if $library.Kind =2]-r:System.Data.dll -r:AltovaDB.dll[endif : if $library.Kind =1]-r:AltovaXML.dll[endif] -out:$@ [=$module]/*.cs
[ endif : endif : next]
AltovaFunctions.dll:	Altova.dll AltovaFunctions/*.cs
	mcs -t:library -r:Altova.dll -out:$@ AltovaFunctions/*.cs

[if $DBLibraryCount>0]
AltovaDB.dll:	Altova.dll AltovaDB/*.cs
	mcs -t:library -r:System.Data.dll -r:Altova.dll -out:$@ AltovaDB/*.cs
[endif]
[if $EDILibraryCount>0]
AltovaText.dll:	Altova.dll AltovaText/*.cs
	mcs -t:library -r:System.Data.dll -r:Altova.dll -out:$@ AltovaText/*.cs AltovaText/EDIFACT/*.cs AltovaText/TableLike/*.cs AltovaText/TableLike/CSV/*.cs AltovaText/TableLike/FLF/*.cs AltovaText/Flex/*.cs
[endif]
AltovaXML.dll:	Altova.dll AltovaXML/*.cs
	mcs -t:library -r:Altova.dll -out:$@ AltovaXML/*.cs

Altova.dll:	Altova/*.cs
	mcs -t:library [if $DBLibraryCount>0]-r:System.Data.dll[endif] -out:$@ $?
